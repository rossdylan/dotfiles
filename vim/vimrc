" Most of this is stolen from eatnumber ehouse and ryansb, with some stuff
" from spf13, Thanks!
set nocompatible
set rtp+=~/.vim/bundle/Vundle.vim

let g:has_async = has('nvim') || v:version >= 800

" Install plugins with vundle "
call vundle#begin()
Plugin 'gmarik/Vundle.vim'
Plugin 'tpope/vim-fugitive'
Plugin 'altercation/vim-colors-solarized'
Plugin 'scrooloose/nerdtree'
Plugin 'kien/ctrlp.vim'
if g:has_async
    Plugin 'w0rp/ale'
else
    Plugin 'scrooloose/syntastic'
endif
Plugin 'airblade/vim-gitgutter'
Plugin 'fatih/vim-go'
Plugin 'tpope/vim-markdown'
Plugin 'bling/vim-airline'
Plugin 'jmcantrell/vim-virtualenv'
Plugin 'klen/python-mode'
Plugin 'kien/rainbow_parentheses.vim'
Plugin 'majutsushi/tagbar'
Plugin 'rust-lang/rust.vim'
call vundle#end()

let mapleader = ","

filetype indent plugin on
syntax on
set t_Co=256

syntax on
set t_Co=256
set background=light
let g:solarized_termcolors=16
colorscheme solarized

set hidden
set wildmenu
set showcmd
set hlsearch
set incsearch
set ignorecase
set smartcase
set backspace=indent,eol,start
set autoindent
set nostartofline
set ruler
set laststatus=2
set confirm
set visualbell
set t_vb=
set mouse=a
set cmdheight=2
set number
set notimeout ttimeout ttimeoutlen=200
set shiftwidth=4
set softtabstop=4
set expandtab
set colorcolumn=100
set lazyredraw
set scrolloff=5 "Keep the cursor at least 5 lines from the top and bottom
set scrolljump=0 "Keep the cursor at least 5 lines from the top and bottom
set listchars=nbsp:.,eol:$,tab:>-,trail:~,extends:>,precedes:<
set list


map Y y$
nnoremap <C-L> :nohl<CR><C-L>


" Configure linting
if g:has_async
    let g:airline#extensions#ale#enabled = 1
else
    let g:syntastic_c_compiler = "clang"
    let g:syntastic_cpp_compiler = "clang++"
endif

" Configure vim-go
let g:go_auto_type_info = 1
let g:go_highlight_build_constraints = 1
let g:go_highlight_extra_types = 1
let g:go_highlight_fields = 2
let g:go_highlight_functions = 1
let g:go_highlight_methods = 1
let g:go_highlight_operators = 1
let g:go_highlight_structs = 1
let g:go_highlight_types = 1

hi NonText guifg=#262626 ctermfg=236
hi SpecialKey guifg=#262626 ctermfg=236

inoremap jj <ESC>

map <Leader>y "+y " Yank to system clipboard

highlight clear SignColumn " SignColumn should match background
highlight clear LineNr " Current line number row will have same background color in relative mode

let g:CSApprox_hook_post = ['hi clear SignColumn']

cmap w!! w !sudo tee % >/dev/null

nnoremap <silent> <leader>tt :TagbarToggle<CR>

let g:pymode_rope = 0 "Disable pymodes rope scripts

au BufNewFile,BufRead *.rs set filetype=rust
autocmd BufNewFile,BufRead *.go setlocal noexpandtab tabstop=4 shiftwidth=4

au VimEnter * RainbowParenthesesToggle
au Syntax * RainbowParenthesesLoadRound
au Syntax * RainbowParenthesesLoadSquare
au Syntax * RainbowParenthesesLoadBraces

let g:airline_powerline_fonts = 1
set lazyredraw

let g:go_metalinter_autosave = 1
